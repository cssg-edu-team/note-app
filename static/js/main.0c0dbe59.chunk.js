(this["webpackJsonpnote-app"]=this["webpackJsonpnote-app"]||[]).push([[0],{172:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(74),s=a.n(c),o=a(44),i=a(12),r=a(5),d=function(){return Object(r.jsx)("header",{className:"masthead",children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:Object(r.jsx)(o.b,{to:"/",children:Object(r.jsx)("h1",{className:"site-title",children:"Chiazo's Notes"})})})})})},j=function(){return Object(r.jsx)("div",{className:"footer",children:Object(r.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," - Chiazo"]})})},l=a(80),u=a(21),b=a(76),h=a.n(b),O=a(77),p=a(28),f=a(36),x=a(78);a.n(x).a.config();f.a.apps.length||f.a.initializeApp({apiKey:"AIzaSyCbOsVoDSKqYIjfxROJIbfQ6ojVFhAljjo",authDomain:"note-app-3c6e4.firebaseapp.com",databaseURL:"https://note-app-3c6e4-default-rtdb.firebaseio.com",projectId:"note-app-3c6e4",storageBucket:"note-app-3c6e4.appspot.com",messagingSenderId:"365932827340",appId:"1:365932827340:web:ce9aa2c13dea88e075a869"});var m={db:f.a.database(),auth:f.a.auth()},v=m.db.ref("notes"),g={getAllNotes:function(e){return v.on("value",(function(t){var a=t.val();if(a){var n=Object.keys(a).map((function(e){return{id:e,note:a[e].note,date:a[e].date}}));e(Object.values(n))}else e([])}))},createNote:function(e){var t=v.push();return t.set(e),t.key},updateNote:function(e,t,a){return v.child(e).update({note:t,date:a})},removeNote:function(e){return v.child(e).remove()},removeAllNotes:function(){return v.remove()}},N=a(46),S=a(27),w=a(32),y=function(e){var t=e.id,a=e.note,c=e.date,s=e.changeEditStatus,o=e.edit,i=e.currNoteId,d=e.saveNote,j=e.disabled,l=Object(n.useState)(a),b=Object(u.a)(l,2),h=b[0],O=b[1],f=i===t;return Object(r.jsxs)("div",{className:"col-3 note",children:[Object(r.jsx)(w.a,{children:Object(r.jsxs)(w.a.Group,{children:[Object(r.jsx)(S.a,{defaultValue:a,onChange:function(e){i!==t&&s(t),O(e.target.value)},as:"textarea",rows:5,disabled:j}),Object(r.jsx)(N.a.Append,{children:o&&f&&Object(r.jsx)(p.a,{className:"save-btn",onClick:function(){d(t,h)},children:"Save"})})]})}),Object(r.jsx)("div",{className:"date",children:c.toLocaleString()})]},t)},A=a(31),I=a(79),k=function(e){var t=e.onLogin,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),j=d[0],l=d[1];return Object(r.jsx)(w.a,{onSubmit:function(e){e.preventDefault(),t(s,j)},children:Object(r.jsx)(w.a.Group,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(A.a,{children:Object(r.jsx)(S.a,{type:"email",placeholder:"Enter email",onChange:function(e){return o(e.target.value)}})}),Object(r.jsx)(A.a,{children:Object(r.jsx)(S.a,{type:"password",placeholder:"Password",onChange:function(e){return l(e.target.value)}})}),Object(r.jsx)(A.a,{children:Object(r.jsx)(N.a.Append,{children:Object(r.jsx)(p.a,{className:"save-btn",type:"submit",children:"Login"})})})]})})})},C=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(n.useState)(""),b=Object(u.a)(j,2),f=b[0],x=b[1],v=Object(O.a)(m.auth),N=Object(u.a)(v,1)[0],S=function(e){x(e),e!==f&&c(!a)},w=function(e,t){if(c(!a),e)g.updateNote(e,t,(new Date).getTime());else{var n=(new Date).getTime(),s={note:t,date:n},o=g.createNote(s);d(i?[].concat(Object(l.a)(i),[{id:o,note:t,date:n}]):[{id:o,note:t,date:n}])}};return Object(n.useEffect)((function(){i||g.getAllNotes(d)}),[i]),Object(r.jsx)("div",{className:"home",children:Object(r.jsxs)("div",{id:"content",children:[Object(r.jsx)(h.a,{className:"background",source:"##### A place for my thoughts!"}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"justify-content-md-center",children:N?Object(r.jsx)(p.a,{onClick:function(){m.auth.signOut()},children:"Logout"}):Object(r.jsx)(k,{onLogin:function(e,t){m.auth.signInWithEmailAndPassword(e,t).catch((function(e){return console.log(e)}))}})}),Object(r.jsx)("div",{className:"row justify-content-md-center",children:i&&i.map((function(e){var t=e.id,n=e.note,c=e.date;return Object(r.jsx)(y,{id:t,note:n,currNoteId:f,date:new Date(c),changeEditStatus:S,edit:a,saveNote:w,disabled:!N},t)}))}),N&&Object(r.jsx)(p.a,{onClick:function(){w(null,"")},children:"Add note!"})]})]})})},D=(a(172),a(173),function(){return Object(r.jsx)("div",{className:"main",children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(d,{}),Object(r.jsx)("div",{children:Object(r.jsx)(i.a,{path:"/",component:C})}),Object(r.jsx)(j,{})]})})});s.a.render(Object(r.jsx)(D,{}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.0c0dbe59.chunk.js.map